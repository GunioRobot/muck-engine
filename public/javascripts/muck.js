jQuery(document).ajaxSend(function(a,b,c){add_headers(b);if(c.type.toUpperCase()=='GET'||typeof(AUTH_TOKEN)=="undefined")return;c.data=c.data||"";if(typeof(AUTH_TOKEN)!="undefined")c.data+=(c.data?"&":"")+"authenticity_token="+encodeURIComponent(AUTH_TOKEN)});function apply_ajax_forms(){jQuery('form.ajax').ajaxForm({dataType:'script',beforeSend:add_headers});jQuery('form.ajax').append('<input type="hidden" name="format" value="js" />')}function add_headers(a){a.setRequestHeader("Accept","text/javascript");a.setRequestHeader("X-Requested-With","XMLHttpRequest")}jQuery(document).ready(function(){jQuery('a.ajax-delete').live('click',function(){var a=jQuery(this).attr('title');var b=true;if(a.length>0){b=confirm(a)}if(b){jQuery.post(this.href,{_method:'delete',format:'js'},null,"script")}return false});jQuery('a.ajax-update').live('click',function(){jQuery.post(this.href,{_method:'put',format:'js'},null,"script");return false});jQuery(".submit-form").click(function(){jQuery(this).parent('form').submit()});apply_ajax_forms();jQuery('a.dialog-pop').live('click',function(){var d=jQuery('<div class="dialog"></div>').appendTo("body");d.dialog({modal:true,autoOpen:false,width:'auto',title:jQuery(this).attr('title')});d.load(jQuery(this).attr('href'),'',function(){d.dialog("open");apply_ajax_forms()});return false});jQuery(".submit-delete").live('click',function(){jQuery(this).parents('.delete-container').fadeOut();var c=jQuery(this).parents('form');jQuery.post(c.attr('action')+'.json',c.serialize(),function(a){var b=eval('('+a+')');if(!b.success){jQuery.jGrowl.info(b.message)}});return false});jQuery(".submit-delete-js").live('click',function(){jQuery(this).parents('.delete-container').fadeOut();var b=jQuery(this).parents('form');jQuery.post(b.attr('action')+'.js',b.serialize(),function(a){});return false});jQuery(document).ready(function(){jQuery('.waiting').hide();jQuery(".wait-button").live('click',function(){jQuery(this).siblings('.waiting').show();jQuery(this).hide()})})});function add_to_list(a,b){var a=split_list(a);var c=true;var d=[];for(i=0;i<a.length;i++){cleaned_item=a[i].split(" ").join("");if(cleaned_item.length>0){d.push(cleaned_item)}if(cleaned_item==b){c=false}}if(c){d.push(b)}return d.join(', ')}function remove_from_list(a,b){var a=split_list(a);for(i=0;i<a.length;i++){cleaned_item=a[i].split(" ").join("");if(cleaned_item.length>0){cleaned.push(cleaned_item)}if(cleaned_item==new_item){add=false}}}function split_list(a){if(a.length>0){var a=a.split(',')}else{var a=[]}return a}